#+title: JOB for Optimistic Order-Preserving Hash Join

As a part of our journey to create a new operator called OOHJ, we need to benchmark it using Join Order Benchmark.

* Getting started

** Clone the repository

#+begin_src shell
git clone --recursive https://github.com/johansolbakken/benchmark
#+end_src

*** Downloading 3rdparty dependencies

If you have cloned the repo without --recursive, you can download 3rdparty dependenceis by:

#+begin_src shell
git submodule init
git submodule update
#+end_src

** Download the data

#+begin_src shell
ruby ftp_download.rb
#+END_SRC

This will create a downloads folder.

** Setup database


First download the repo and build MySQL. Then you need to run MySQL. We use MTR which is mysqls testing script.

#+begin_src shell
cd build # build folder in root of mysql for example
./mysql-test/mtr --start
#+end_src

Then from the build folder we need build/bin/mysql in the config.yaml file.

** Setup the database

Copy the config.yaml.example and fill in mysql path.

#+begin_src shell
ruby run_queries.rb --setup
#+end_src

This creates tables and indexes.

* Cleanup

#+begin_src shell
ruby cleanup.rb
#+end_src
